<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>ConversaciÃ³n</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list>
    <ion-item *ngFor="let msg of messages">
      <ion-avatar *ngIf="msg.user_id == user.id" item-end>
        <img src="{{user.picture}}">
      </ion-avatar>
      <ion-avatar *ngIf="msg.user_id == toUser.id" item-start>
        <img src="{{toUser.picture}}">
      </ion-avatar>
      <p text-wrap>{{msg.message}}</p>
      <!--<p *ngIf="msg.user_id == user.id" text-right text-wrap>{{msg.message}}</p>-->
      <!--<p *ngIf="msg.user_id == toUser.id" text-left text-wrap>{{msg.message}}</p>-->
    </ion-item>
  </ion-list>
</ion-content>

<ion-footer>

  <ion-toolbar>
    <form (ngSubmit)="sendMessage()">
      <ion-item>
        <ion-label>Enviar:</ion-label>
        <ion-input type="text" [(ngModel)]="newMessage" name="message"></ion-input>
      </ion-item>
      <button ion-button full round type="submit" block>
        <ion-icon name="send" item-end></ion-icon>
      </button>

    </form>
  </ion-toolbar>

</ion-footer>
